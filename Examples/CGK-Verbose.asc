10 ' Converted with MSX Basic Dignified
20 ' https://github.com/farique1/msx-basic-dignified
30 ' CHANGE GRAPH KIT
40 ' v1.6
50 ' Edit uncompressed graphics on MSX binary files on disk
60 '
70 ' New
80 '   Updated most subroutines to the new FUNC proto-function
90 '	Replaced operators with the new +=, ++, etc where possible
100 '   "|M|Kys" not showing anymore on Edit screen if on ML fallback
110 '   Made DEFINEs for chr$ keys, keyboard scans and screen drawing
120 '   Error handling improvements
130 '   Small code adjustments, cleanup and optimizations
140 '   Fixed bug with a wrong error number when a support file was not found
150 '
160 ' Copyright (1984 - 2020) - Fred Rique (farique)
170 ' https://github.com/farique1/Change-Graph-Kit
180 '
190 CLEAR 200,&HDA00
200 DEFINT A-Z :MAXFILES = 2
210 ON STOP GOSUB 6650 :STOP ON :' {stopped}
220 ON ERROR GOTO 6520 :' {error}
230 DIM YL(36)
240 YK = 0
250 YJ = -1
260 YI$ = ""
270 ZY = 1 :ZX = 15 :ZW = 2 :ZV = 6 :ZU = 2 :ZT = 1
280 SCREEN 0 :COLOR ZX,ZY,ZY :WIDTH 40 :KEY OFF
290 LOCATE 14,11 :PRINT "INITIALIZING"
300 LOCATE 14,13 :PRINT " MAKING STR "
310 GOSUB 1480 :' {createStrings}
320 LOCATE 14,13 :PRINT " ERROR MSGS "
330 ' Using the time format in ROM to determine language
340 IF (PEEK(&H2B) AND 112) = 32 THEN RESTORE 6930 ELSE RESTORE 7000 :' {portuguese_ROM} {english_ROM}
350 FOR F = 1 TO 36 :READ A :YL(F) = A :NEXT
360 LOCATE 14,13 :PRINT "LOADING CONF"
370 GOSUB 3300 :' {load_config}
380 LOCATE 14,13 :PRINT " ML SUPPORT "
390 YH = &HDA00
400 YK = 3
410 BLOAD "CGKTools.com"
420 YG = 0
430 RESTORE 7220 :' {character_shapes}
440 GOTO 540 :' {ml_setup}
450 '
460 ' {ml_fallback}
470 '
480 LOCATE 8,8 :PRINT " CGKTools.bin not found"
490 LOCATE 8,9 :PRINT "Using internal fall back"
500 RESTORE 7080 :' {ml_routines}
510 FOR F = 0 TO 146 :READ A$ :LOCATE 18,15 :PRINT 147-F :POKE YH+F,VAL("&h"+A$) :NEXT :LOCATE 18,15 :PRINT "   "
520 YG = -1
530 '
540 ' {ml_setup}
550 '
560 DEFUSR0 = YH+&H08 ' invert_VRAM 		v0=len
570 DEFUSR1 = YH+&H0B ' fill_VRAM 		v0-v1=len v2-v3=srt usr(ptrn)
580 DEFUSR2 = YH+&H0E ' copy_VRAM 		v0-v1=VRAM v2=width v3=height usr(direc)
590 DEFUSR3 = YH+&H11 ' populate_edit 	v0=col_len v1=lin_len
600 DEFUSR4 = YH+&H14 ' flip_VRAM		 	v0=len
610 DEFUSR5 = YH+&H17 ' rotate_VRAM	 	v0=len
620 DEFUSR6 = YH+&H1A ' slide_VRAM	 	v0=len usr(direc)
630 DEF FN YF(X,Y,S) = (X + S + (Y * 32)) MOD 256
640 DEF FN YE(X,Y,S) = INT((X + S + (Y * 32))/256)
650 '
660 ' {start}
670 '
680 SCREEN 0 :WIDTH 40
690 DEF FN ZZ(X) = ABS(X MOD 16 + 16) MOD 16
700 ZS = 0 :ZR = 0 :ZQ = 0 :ZP = 0
710 YD$ = "" ' leave blank to enable file request
720 YC$ = ".bin" ' leave blank to all
730 IF YC$ = "" THEN YC$ = ".*"
740 IF YD$ <> "" THEN GOTO 1660 :' {inicializacao}
750 '
760 ' {insert_disk}
770 '
780 CLS
790 YK = 1
800 LOCATE 14,8 :PRINT "Insert disk"
810 LOCATE 11,10 :PRINT "and press any key"
820 IF NOT YJ THEN LOCATE 9,18 :PRINT YI$
830 IF INKEY$=""THEN830 :' {SELF}
840 YJ = -1
850 YI$ = ""
860 CLS
870 FILES "*"+YC$
880 PRINT :PRINT
890 PRINT ":Load" :PRINT ":ARROWS choose:ENTER select:SPACE type";
900 FOR F = 0 TO 24
910 YB = 0 + 40 * F
920 IF CHR$(VPEEK(YB)) = ":" THEN YA = F - 1
930 NEXT
940 X = 12 :Y = 0
950 YB = X + 40 * Y
960 GOSUB 1260 :' {show_content}
970 '
980 ' {keys}
990 '
1000 A$=INKEY$
1010 LOCATE X,Y :PRINT "{"
1020 LOCATE X,Y :PRINT "<"
1030 IF A$ = "" THEN 980 :' {keys}
1040 LOCATE X,Y :PRINT " "
1050 PX = X :PY = Y
1060 IF A$ = CHR$(&H1C) THEN X = X+13 :GOSUB 1160 :' {move_cursor_files}
1070 IF A$ = CHR$(&H1D) THEN X = X-13 :GOSUB 1160 :' {move_cursor_files}
1080 IF A$ = CHR$(&H1E) THEN Y = Y-1 :GOSUB 1160 :' {move_cursor_files}
1090 IF A$ = CHR$(&H1F) THEN Y = Y+1 :GOSUB 1160 :' {move_cursor_files}
1100 IF A$ = CHR$(&H0D) THEN 1610 :' {continue}
1110 IF A$ = " " THEN 1540 :' {type_name}
1120 LOCATE X,Y :PRINT "<"
1130 GOSUB 1260 :' {show_content}
1140 GOTO 980 :' {keys}
1150 '
1160 ' {move_cursor_files}
1170 '
1180 IF X >= 39 THEN X = 12
1190 IF X <= 0 THEN X = 38
1200 IF Y <= 0 THEN Y = 0
1210 IF Y >= 24 THEN Y = 24
1220 YB = X + 40 * Y
1230 IF VPEEK(YB - 12) = 32 THEN X = PX :Y = PY :YB = X + 40 * Y
1240 RETURN
1250 '
1260 ' {show_content}
1270 '
1280 XZ = 0 :YD$ = "" :XY$ = ""
1290 LOCATE 6,YA :PRINT "            "
1300 FOR F = YB - 12 TO YB - 1
1310 XY$ = CHR$(VPEEK(F))
1320 YD$ = YD$ + XY$
1330 LOCATE 6+XZ,YA :PRINT XY$
1340 XZ = XZ + 1
1350 NEXT
1360 RETURN
1370 '
1380 ' {game_small}
1390 '
1400 CLS
1410 LOCATE 13,11 :PRINT "Sorry"
1420 LOCATE 00,12 :PRINT "The game must be over 800 bytes"
1430 LOCATE 05,13 :PRINT "Press space to restart"
1440 IF INKEY$<>" "THEN1440 :' {SELF}
1450 SCREEN 0
1460 RETURN
1470 '
1480 ' {createStrings}
1490 '
1500 XX$ = "W" :XW$ = "_"
1510 FOR F = 0 TO 4 :XX$=XX$+XX$ :XW$=XW$+XW$ :NEXT
1520 RETURN
1530 '
1540 ' {type_name}
1550 '
1560 YK = 2
1570 LOCATE 6,YA :? "            "
1580 LOCATE 6,YA :LINE INPUT YD$
1590 IF YD$ = "" THEN GOSUB 1260 :GOTO 980 :' {show_content} {keys}
1600 '
1610 ' {continue}
1620 '
1630 LOCATE 39,YA+1 :PRINT
1640 FILES YD$
1650 '
1660 ' {inicializacao}
1670 '
1680 CLS :SCREEN 1 :WIDTH 32
1690 POKE YH+0,&H20 :POKE YH+1,&H03 :POKE YH+2,&H00 :POKE YH+3,&H04 :A=USR1(0)
1700 VPOKE 6914,0 :VPOKE 6918,1 :VPOKE 6922,2 :VPOKE 6926,3 :VPOKE 6930,2
1710 LOCATE 10,11 :PRINT "INITIALIZING"
1720 LOCATE 10,13 :PRINT "    GAME    "
1730 OPEN YD$ AS #1 LEN = 1
1740 FIELD #1,1 AS ZJ$
1750 GET #1,3 :ZI$ = ZJ$ :GET #1,2 :ZH$ = ZJ$ :ZG = (ASC(ZI$) * 256 + ASC(ZH$)) - 65535!
1760 GET #1,5 :ZI$ = ZJ$ :GET #1,4 :ZH$ = ZJ$ :ZF = (ASC(ZI$) * 256 + ASC(ZH$)) - 65535!
1770 ZD = ZF - ZG - 1
1780 ZE = 0 :ZC = 800 :ZB = 8 :ZS = -1
1790 ZA = ZE :YZ = 16 :YY = 23 :YX = 32
1800 IF ZD < 800 THEN CLOSE :GOSUB 1380 :GOTO 760 :' {game_small} {insert_disk}
1810 LOCATE 10,13 :PRINT "   SHAPES   "
1820 LOCATE 15,15 :PRINT "06"
1830 FOR F = 0 TO 23 :READ A :VPOKE &H0008 + F,A :NEXT :LOCATE 15,15 :PRINT "05"
1840 FOR F = 0 TO 7 :READ A :VPOKE &H0080 + F,A :NEXT :LOCATE 15,15 :PRINT "04"
1850 FOR F = 0 TO 7 :READ A :VPOKE &H00F8 + F,A :NEXT :LOCATE 15,15 :PRINT "03"
1860 FOR F = 0 TO 7 :READ A :VPOKE &H0720 + F,A :NEXT :LOCATE 15,15 :PRINT "02"
1870 FOR F = 0 TO 23 :READ A :VPOKE &H0740 + F,A :NEXT :LOCATE 15,15 :PRINT "01"
1880 FOR F = 0 TO 31 :READ A :VPOKE &H3800 + F,A :NEXT :LOCATE 15,15 :PRINT "00"
1890 POKE YH+0,&H20 :POKE YH+1,&H00 :POKE YH+2,&H60 :POKE YH+3,&H00 :A=USR1(0)
1900 LOCATE 10,13 :PRINT "   COLORS   "
1910 GOSUB 2990 :' {set_color}
1920 '
1930 ' {search_screen}
1940 '
1950 CLS
1960 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
1970 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*10) ;"Y"
1980 LOCATE 1,3 :PRINT "VÄäîû®≤º∆–⁄V"
1990 LOCATE 1,4 :PRINT "VÅãïü©≥Ω«—€V"
2000 LOCATE 1,5 :PRINT "VÇåñ†™¥æ»“‹V"
2010 LOCATE 1,6 :PRINT "VÉçó°´µø…”›V"
2020 LOCATE 1,7 :PRINT "VÑéò¢¨∂¿ ‘ﬁV"
2030 LOCATE 1,8 :PRINT "VÖèô£≠∑¡À’ﬂV"
2040 LOCATE 1,9 :PRINT "VÜêö§Æ∏¬Ã÷‡V"
2050 LOCATE 1,10 :PRINT "Váëõ•Øπ√Õ◊·V"
2060 LOCATE 1,11 :PRINT "Vàíú¶∞∫ƒŒÿ‚V"
2070 LOCATE 1,12 :PRINT "Vâìùß±ª≈œŸ„V"
2080 LOCATE 1,13 :PRINT "Z"; LEFT$(XX$,2*10) ;"["
2090 LOCATE 3,15 :PRINT "Srt# End#"
2100 LOCATE 1,17 :PRINT "C"
2110 LOCATE 3,17 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
2120 LOCATE 8,17 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
2130 LOCATE 1,19 :PRINT "R"
2140 LOCATE 3,19 :PRINT STRING$(4-LEN(HEX$(ZE)),"0")+HEX$(ZE)
2150 LOCATE 8,19 :PRINT STRING$(4-LEN(HEX$(ZE + 799)),"0")+HEX$(ZE + 799)
2160 LOCATE 1,21 :PRINT "G"
2170 LOCATE 3,21 :PRINT STRING$(4-LEN(HEX$(0)),"0")+HEX$(0)
2180 LOCATE 8,21 :PRINT STRING$(4-LEN(HEX$(ZD)),"0")+HEX$(ZD)
2190 LOCATE 13,2 :PRINT "X"; LEFT$(XX$,2*16) ;"Y"
2200 LOCATE 13,3 :PRINT "VCursor Stp #   "+RIGHT$(STR$(ZB),1)+"V"
2210 LOCATE 13,4 :PRINT "VRegion Stp # "+RIGHT$(HEX$(ZC),3)+"V"
2220 LOCATE 13,5 :PRINT "Z"; LEFT$(XX$,2*16) ;"["
2230 '
2240 ' {keys_page_start}
2250 '
2260 ON ZP GOTO 2360 :' {keys_page_2}
2270 LOCATE 13,7 :PRINT "VÍVMove VËVEdit   "
2280 LOCATE 13,9 :PRINT "VÈVStep VDVSize   "
2290 LOCATE 13,11 :PRINT "VBVClearVRVRefresh"
2300 LOCATE 13,13 :PRINT "VTVScan und cursor "
2310 LOCATE 13,15 :PRINT "VFVFreeze/Unfreeze"
2320 LOCATE 13,17 :PRINT "VEVExplode/Ovrview"
2330 LOCATE 13,19 :PRINT "                  "
2340 GOTO 2460 :' {keys_page_end}
2350 '
2360 ' {keys_page_2}
2370 '
2380 LOCATE 13,7 :PRINT "VNVNew  VPVExit  "
2390 LOCATE 13,9 :PRINT "VQVPrev VWVNext   "
2400 LOCATE 13,11 :PRINT "VAVP 4x VSVN 4x   "
2410 LOCATE 13,13 :PRINT "VZVSrtVXVMidVCVEnd"
2420 LOCATE 13,15 :PRINT "VK LVCfg Save Load"
2430 LOCATE 13,17 :PRINT "V1-8VChange Colors"
2440 LOCATE 13,19 :PRINT "                  "
2450 '
2460 ' {keys_page_end}
2470 '
2480 LOCATE 13,19 :PRINT "      VMVMore Keys"
2490 LOCATE 13,21 :PRINT "ABBBBBBBBBBBBBBBBC"
2500 GOSUB 3960 :' {end_scan}
2510 IF ZR = -1 THEN LOCATE 2,13 :PRINT "WOverviewW"
2520 XV = YY + (YX - 2) :XU = 0
2530 IF YY + (YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + (YX - 2)) - 103
2540 IF YZ + XU > 95 THEN XV = 200
2550 VPOKE 6912,YY - 1 :VPOKE 6913,YZ
2560 VPOKE 6916,XV + 1 :VPOKE 6917,XU + YZ
2570 XT = ZE / (ZD / 141) + 105
2580 VPOKE 6920,167 :VPOKE 6921,XT
2590 VPOKE 6928,167 :VPOKE 6929,XT+(141/(ZD/800))
2600 IF ZQ THEN ZQ = 0 :GOSUB 3700 :' {update_memory_position}
2610 '
2620 ' {read_keyboard_main}
2630 '
2640 A$ = INKEY$
2650 IF A$ = CHR$(&H1C) AND (YZ + 8 < 95) AND (ZA + YX-2 + 80 < ZD) THEN YZ = YZ+8 :ZA = ZA+80 :GOSUB 3480 :' {move_scan_sprite}
2660 IF A$ = CHR$(&H1D) AND (YZ - 8 > 15) THEN YZ = YZ-8 :ZA = ZA-80 :GOSUB 3480 :' {move_scan_sprite}
2670 IF A$ = CHR$(&H1E) AND (YY - ZB > 22) THEN YY = YY-ZB :ZA = ZA-ZB :GOSUB 3480 :' {move_scan_sprite}
2680 IF A$ = CHR$(&H1F) AND (YY + ZB < 103) AND (ZA + YX-2 + ZB < ZD) THEN YY = YY+ZB :ZA = ZA+ZB :GOSUB 3480 :' {move_scan_sprite}
2690 IF A$ = "1" THEN ZY = ZY-1 :GOSUB 2990 :' {set_color}
2700 IF A$ = "2" THEN ZY = ZY+1 :GOSUB 2990 :' {set_color}
2710 IF A$ = "3" THEN ZX = ZX-1 :GOSUB 2990 :' {set_color}
2720 IF A$ = "4" THEN ZX = ZX+1 :GOSUB 2990 :' {set_color}
2730 IF A$ = "5" THEN ZW = ZW-1 :GOSUB 2990 :' {set_color}
2740 IF A$ = "6" THEN ZW = ZW+1 :GOSUB 2990 :' {set_color}
2750 IF A$ = "7" THEN ZV = ZV-1 :GOSUB 2990 :' {set_color}
2760 IF A$ = "8" THEN ZV = ZV+1 :GOSUB 2990 :' {set_color}
2770 IF A$ = CHR$(&H0D) THEN GOTO 4090 :' {edit_screen}
2780 IF A$ = "E" THEN GOTO 5430 :' {explode_screen}
2790 IF A$ = "D" THEN GOSUB 3590 :' {change_sprite_size}
2800 IF A$ = " " THEN GOSUB 4020 :' {change_movement_step}
2810 IF A$ = "R" THEN XS = 0 :GOSUB 3860 :' {scan}
2820 IF A$ = "M" THEN ZP = ABS(ZP - 1) :GOTO 2240 :' {keys_page_start}
2830 IF A$ = "B" THEN POKE YH+0,&H20 :POKE YH+1,&H03 :POKE YH+2,&H00 :POKE YH+3,&H04 :A=USR1(0)
2840 IF A$ = "N" THEN GOSUB 6320 :CLOSE :RESTORE 7220 :GOTO 660 :' {window_requester} {character_shapes} {start}
2850 IF A$ = "P" THEN GOSUB 6320 :CLOSE :CLEAR :SCREEN 0 :WIDTH 40 :COLOR 15,5,5 :NEW :' {window_requester}
2860 IF A$ = "K" THEN GOSUB 3170 :' {save_config}
2870 IF A$ = "T" THEN GOSUB 3410 :' {refresh_cursor_area}
2880 IF A$ = "L" THEN GOSUB 3300 :GOSUB 2990 :' {load_config} {set_color}
2890 IF A$ = "Q" THEN XS = ZA-ZE :ZE = ZE-ZC :GOSUB 3700 :' {update_memory_position}
2900 IF A$ = "W" THEN XS = ZA-ZE :ZE = ZE+ZC :GOSUB 3700 :' {update_memory_position}
2910 IF A$ = "A" THEN XS = ZA-ZE :ZE = ZE-ZC*4 :GOSUB 3700 :' {update_memory_position}
2920 IF A$ = "S" THEN XS = ZA-ZE :ZE = ZE+ZC*4 :GOSUB 3700 :' {update_memory_position}
2930 IF A$ = "Z" THEN XS = ZA-ZE :ZE = &H00 :GOSUB 3700 :' {update_memory_position}
2940 IF A$ = "X" THEN XS = ZA-ZE :ZE = (ZD/2 :GOSUB 3700 - 400) :' {update_memory_position}
2950 IF A$ = "C" THEN XS = ZA-ZE :ZE = ZD-799 :GOSUB 3700 :' {update_memory_position}
2960 IF A$ = "F" THEN XS = 0 :ZS = NOT ZS :IF ZS THEN GOSUB 3960 :ELSE :GOSUB 3860 :' {end_scan} {scan}
2970 GOTO 2620 :' {read_keyboard_main}
2980 '
2990 ' {set_color}
3000 '
3010 ZY = FN ZZ(ZY)
3020 ZX = FN ZZ(ZX)
3030 ZW = FN ZZ(ZW)
3040 ZV = FN ZZ(ZV)
3050 ZU = FN ZZ(ZU)
3060 ZT = FN ZZ(ZT)
3070 COLOR ZX,ZY,ZY
3080 VPOKE 8194,ZV * 16 + ZY
3090 VPOKE 8195,ZV * 16 + ZY
3100 VPOKE 8192,ZV * 16 + ZW
3110 VPOKE 8193,ZW * 16 + ZY
3120 VPOKE 6915,ZX :VPOKE 6919,ZX
3130 VPOKE 6923,ZX :VPOKE 6927,ZX :VPOKE 6931,ZX
3140 FOR F = 0 TO 12 :VPOKE 8208+F,ZW * 16 + ZY :NEXT
3150 RETURN
3160 '
3170 ' {save_config}
3180 '
3190 X = 12 :Y = 10 :W = 8 :H = 2 :GOSUB 6430 :' {vram_conversion}
3200 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(0)
3210 LOCATE 12,10 :PRINT "X"; LEFT$(XX$,2*6) ;"Y"
3220 LOCATE 12,11 :PRINT "VSAVINGV"
3230 LOCATE 12,12 :PRINT "Z"; LEFT$(XX$,2*6) ;"[
3240 OPEN "CGKConf.cfg" FOR OUTPUT AS #2
3250 PRINT #2,ZY,ZX,ZW,ZV,ZU,ZT
3260 CLOSE #2
3270 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(1)
3280 RETURN
3290 '
3300 ' {load_config}
3310 '
3320 YK = 4
3330 OPEN "CGKConf.cfg" FOR INPUT AS #2
3340 INPUT #2,ZY,ZX,ZW,ZV,ZU,ZT
3350 '
3360 ' {config_failed}
3370 '
3380 CLOSE #2
3390 RETURN
3400 '
3410 ' {refresh_cursor_area}
3420 '
3430 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
3440 IF YV > ZD - 1 THEN YV = ZD - 1
3450 FOR I = ZA TO YV :GET #1,I+1 :VPOKE 1024 - ZE + I,VPEEK(1024 - ZE + I) XOR 255 :A$ = ZJ$ :VPOKE 1024 - ZE + I,ASC(A$) :NEXT
3460 RETURN
3470 '
3480 ' {move_scan_sprite}
3490 '
3500 XV = YY + ( YX - 2) :XU = 0
3510 IF YY + ( YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + ( YX - 2)) - 103
3520 IF YZ + XU > 95 THEN XV = 200
3530 VPOKE 6912,YY - 1 :VPOKE 6913,YZ
3540 VPOKE 6916,XV + 1 :VPOKE 6917,YZ + XU
3550 LOCATE 3,17 :PRINT STRING$(4 - LEN(HEX$(ZA)),"0")+HEX$(ZA)
3560 LOCATE 8,17 :PRINT STRING$(4 - LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
3570 RETURN
3580 '
3590 ' {change_sprite_size}
3600 '
3610 IF YX = 32 THEN YX = 8 ELSE IF ZA + YX + 22 < ZD THEN YX = 32 ELSE RETURN
3620 XV = YY + (YX - 2) :XU = 0
3630 IF YY + (YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + (YX - 2)) - 103
3640 IF YZ + XU > 95 THEN XV = 200
3650 VPOKE 6916,XV + 1 :VPOKE 6917,YZ + XU
3660 LOCATE 3,17 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
3670 LOCATE 8,17 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
3680 RETURN
3690 '
3700 ' {update_memory_position}
3710 '
3720 IF ZE < 0 THEN ZE = 0
3730 IF ZE + 799 > ZD THEN ZE = ZD - 799
3740 ZA = ZE + XS
3750 XT = ZE / (ZD / 141) + 105
3760 VPOKE 6920,167 :VPOKE 6921,XT
3770 VPOKE 6928,167 :VPOKE 6929,XT+(141/(ZD/800))
3780 LOCATE 3,17 :PRINT STRING$(4 - LEN(HEX$(ZA)),"0")+HEX$(ZA)
3790 LOCATE 8,17 :PRINT STRING$(4 - LEN(HEX$(ZA + 7)),"0")+HEX$(ZA + 7)
3800 LOCATE 3,19 :PRINT STRING$(4 - LEN(HEX$(ZE)),"0")+HEX$(ZE)
3810 LOCATE 8,19 :PRINT STRING$(4 - LEN(HEX$(ZE + 799)),"0")+HEX$(ZE + 799)
3820 IF ZA + YX > ZD THEN YZ = 95-7 :YY = 103-YX :ZA = ZD-YX+1 :GOSUB 3480 :' {move_scan_sprite}
3830 IF NOT ZS THEN GOSUB 3860 :' {scan}
3840 RETURN
3850 '
3860 ' {scan}
3870 '
3880 ZR = 0
3890 LOCATE 2,2 :PRINT LEFT$(XX$,2*3) ;"SCAN"; LEFT$(XX$,2*3)
3900 LOCATE 2,13 :PRINT "WVÈVStopWW"
3910 FOR F = ZE TO ZE + 799
3920 VPOKE 1024 - ZE + F,VPEEK(1024 - ZE + F) XOR 255 :GET #1,F+1 :A$ = ZJ$ :VPOKE 1024 - ZE + F,ASC(A$) :IF INKEY$=" " THEN F = ZE + 800 ELSE NEXT
3930 GOSUB 3960 :' {end_scan}
3940 RETURN
3950 '
3960 ' {end_scan}
3970 '
3980 IF ZS THEN LOCATE 2,2 :PRINT "WWFREEZEWW" ELSE LOCATE 2,2 :PRINT LEFT$(XX$,2*10)
3990 LOCATE 2,13 :PRINT LEFT$(XX$,2*10)
4000 RETURN
4010 '
4020 ' {change_movement_step}
4030 '
4040 ZB = ( 8 + 1) - ZB
4050 ZC = (800 + 400) - ZC
4060 LOCATE 29,3 :PRINT RIGHT$(HEX$(ZB),1) :LOCATE 27,4 :PRINT RIGHT$(HEX$(ZC),3)
4070 RETURN
4080 '
4090 ' {edit_screen}
4100 '
4110 CLS
4120 VPOKE 6920,200 :VPOKE 6928,200
4130 POKE YH+0,&H20 :POKE YH+1,&H00 :POKE YH+2,&H40 :POKE YH+3,&H00 :A=USR1(0)
4140 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
4150 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*10) ;"Y"
4160 LOCATE 1,3 :PRINT "VÄäîû®≤º∆–⁄V"
4170 LOCATE 1,4 :PRINT "VÅãïü©≥Ω«—€V"
4180 LOCATE 1,5 :PRINT "VÇåñ†™¥æ»“‹V"
4190 LOCATE 1,6 :PRINT "VÉçó°´µø…”›V"
4200 LOCATE 1,7 :PRINT "VÑéò¢¨∂¿ ‘ﬁV"
4210 LOCATE 1,8 :PRINT "VÖèô£≠∑¡À’ﬂV"
4220 LOCATE 1,9 :PRINT "VÜêö§Æ∏¬Ã÷‡V"
4230 LOCATE 1,10 :PRINT "Váëõ•Øπ√Õ◊·V"
4240 LOCATE 1,11 :PRINT "Vàíú¶∞∫ƒŒÿ‚V"
4250 LOCATE 1,12 :PRINT "Vâìùß±ª≈œŸ„V"
4260 LOCATE 1,13 :PRINT "Z"; LEFT$(XX$,2*10) ;"["
4270 LOCATE 1,14 :PRINT "X"; LEFT$(XX$,2*2) ;"R"; LEFT$(XX$,2*4) ;"R"; LEFT$(XX$,2*2) ;"Y"
4280 LOCATE 1,15 :PRINT "VHJV    VLNV"
4290 LOCATE 1,16 :PRINT "VIKV    VMOV"
4300 LOCATE 1,17 :PRINT "Z"; LEFT$(XX$,2*2) ;"Q"; LEFT$(XX$,2*4) ;"Q"; LEFT$(XX$,2*2) ;"["
4310 LOCATE 5,15 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
4320 LOCATE 5,16 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
4330 LOCATE 14,2 :PRINT LEFT$(XW$,2*16)
4340 LOCATE 14,3 :PRINT LEFT$(XW$,2*16)
4350 LOCATE 14,4 :PRINT LEFT$(XW$,2*16)
4360 LOCATE 14,5 :PRINT LEFT$(XW$,2*16)
4370 LOCATE 14,6 :PRINT LEFT$(XW$,2*16)
4380 LOCATE 14,7 :PRINT LEFT$(XW$,2*16)
4390 LOCATE 14,8 :PRINT LEFT$(XW$,2*16)
4400 LOCATE 14,9 :PRINT LEFT$(XW$,2*16)
4410 LOCATE 14,10 :PRINT LEFT$(XW$,2*16)
4420 LOCATE 14,11 :PRINT LEFT$(XW$,2*16)
4430 LOCATE 14,12 :PRINT LEFT$(XW$,2*16)
4440 LOCATE 14,13 :PRINT LEFT$(XW$,2*16)
4450 LOCATE 14,14 :PRINT LEFT$(XW$,2*16)
4460 LOCATE 14,15 :PRINT LEFT$(XW$,2*16)
4470 LOCATE 14,16 :PRINT LEFT$(XW$,2*16)
4480 LOCATE 14,17 :PRINT LEFT$(XW$,2*16)
4490 VPOKE 6924,15 :VPOKE 6925,112
4500 '
4510 ' {keys_edit_start}
4520 '
4530 IF YG THEN ZO = 0
4540 ON ZO GOTO 4600 :' {keys_edit_2}
4550 LOCATE 01,19 :PRINT "VCVCpyVVVPst"
4560 LOCATE 07,21 :PRINT "V#VCor"
4570 IF NOT YG THEN LOCATE 01,21 :PRINT "VMVKys"
4580 GOTO 4650 :' {keys_edit_end}
4590 '
4600 ' {keys_edit_2}
4610 '
4620 LOCATE 01,19 :PRINT "VRVRotVTVHmv"
4630 LOCATE 01,21 :PRINT "VFVFlpVGVVmv"
4640 '
4650 ' {keys_edit_end}
4660 '
4670 LOCATE 13,19 :PRINT "VEVErzVÈVTglVLVRld"
4680 LOCATE 13,21 :PRINT "VDVInvVSVSavVËVBck"
4690 IF XR >= 0 THEN XR = 0 :XQ = 0 :XP = 0 :GOSUB 4980 :' {fill_edit_area}
4700 XR = 0
4710 '
4720 ' {read_keyboard_edit}
4730 '
4740 A$ = INKEY$
4750 IF A$ = CHR$(&H1C) AND XQ < YW THEN XQ = XQ + 1 :VPOKE 6925,112 + (XQ * 8)
4760 IF A$ = CHR$(&H1D) AND XQ > 0 THEN XQ = XQ - 1 :VPOKE 6925,112 + (XQ * 8)
4770 IF A$ = CHR$(&H1E) AND XP > 0 THEN XP = XP - 1 :VPOKE 6924,15 + (XP * 8)
4780 IF A$ = CHR$(&H1F) AND XP < YW THEN XP = XP + 1 :VPOKE 6924,15 + (XP * 8)
4790 IF A$ = "E" THEN XR = 2 :GOSUB 4980 :' {fill_edit_area}
4800 IF A$ = "D" THEN XR = 1 :GOSUB 4980 :' {fill_edit_area}
4810 IF A$ = "R" THEN XR = 3 :GOSUB 4980 :' {fill_edit_area}
4820 IF A$ = "F" THEN XR = 4 :GOSUB 4980 :' {fill_edit_area}
4830 IF A$ = "T" THEN XR = 5 :GOSUB 4980 :' {fill_edit_area}
4840 IF A$ = "G" THEN XR = 6 :GOSUB 4980 :' {fill_edit_area}
4850 IF A$ = "C" THEN FOR F=0 TO YU-1 :VPOKE &H0060+F,VPEEK(&H0040+F) :NEXT
4860 IF A$ = "V" THEN FOR F=0 TO YU-1 :VPOKE &H0040+F,VPEEK(&H0060+F) :NEXT :POKE YH+0,YS :POKE YH+1,YT :A=USR3(0)
4870 IF A$ = " " THEN GOSUB 5200 :' {change_bit}
4880 IF A$ = "S" THEN GOSUB 5290 :' {save_drawing}
4890 IF A$ = "L" THEN XR = 0 :GOSUB 4980 :' {fill_edit_area}
4900 IF A$ = "M" THEN ZO = ABS(ZO - 1) :XR = -1 :GOTO 4510 :' {keys_edit_start}
4910 IF A$ = "1" THEN ZU = ZU-1 :GOSUB 5130 :' {set_minipreview_color}
4920 IF A$ = "2" THEN ZU = ZU+1 :GOSUB 5130 :' {set_minipreview_color}
4930 IF A$ = "3" THEN ZT = ZT-1 :GOSUB 5130 :' {set_minipreview_color}
4940 IF A$ = "4" THEN ZT = ZT+1 :GOSUB 5130 :' {set_minipreview_color}
4950 IF A$ = CHR$(&H0D) THEN VPOKE 6924,200 :GOTO 1930 :' {search_screen}
4960 GOTO 4720 :' {read_keyboard_edit}
4970 '
4980 ' {fill_edit_area}
4990 '
5000 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
5010 IF YV > ZD - 1 THEN YV = ZD - 1
5020 IF YX = 8 THEN YW = 7 :YU = 8 :YT = 8 :YS = 1 :ELSE YW = 15 :YU = 32 :YT = 16 :YS = 2
5030 IF XR = 1 THEN POKE YH+0,YU :A=USR0(0)
5040 IF XR = 2 THEN POKE YH+0,YU :POKE YH+1,&H00 :POKE YH+2,&H40 :POKE YH+3,&H00 :A=USR1(0)
5050 IF XR = 3 AND NOT YG THEN POKE YH+0,YU :A=USR5(0)
5060 IF XR = 4 AND NOT YG THEN POKE YH+0,YU :A=USR4(0)
5070 IF XR = 5 AND NOT YG THEN POKE YH+0,YU :A=USR6(1)
5080 IF XR = 6 AND NOT YG THEN POKE YH+0,YU :A=USR6(0)
5090 IF XR = 0 THEN FOR I = ZA TO YV :GET #1,I+1 :VPOKE 1024 - ZE + I,VPEEK(1024 - ZE + I) XOR 255 :A$ = ZJ$ :VPOKE &H0040 + I - ZA,ASC(A$) :VPOKE 1024 - ZE + I,ASC(A$) :NEXT
5100 POKE YH+0,YS :POKE YH+1,YT :A=USR3(0)
5110 RETURN
5120 '
5130 ' {set_minipreview_color}
5140 '
5150 ZU = FN ZZ(ZU)
5160 ZT = FN ZZ(ZT)
5170 VPOKE 8193,ZU * 16 + ZT
5180 RETURN
5190 '
5200 ' {change_bit}
5210 '
5220 XO = VPEEK ((XQ + 14) + (XP + 2) * 32 + 6144)
5230 XO = (228 + 16) - XO
5240 VPOKE (XQ + 14) + (XP + 2) * 32 + 6144,XO
5250 XN = XP :IF XQ > 7 THEN XN = XP + 16
5260 VPOKE &H0040 + XN,2^(7-(XQ MOD 8)) XOR VPEEK(&H0040 + XN)
5270 RETURN
5280 '
5290 ' {save_drawing}
5300 '
5310 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
5320 IF YV > ZD - 1 THEN YV = ZD - 1
5330 FOR I = ZA TO YV
5340 XM = 1024 - ZE + I
5350 XL = VPEEK(&H0040 + I - ZA)
5360 VPOKE XM,VPEEK(XM) XOR 255
5370 A$ = CHR$(XL)
5380 LSET ZJ$ = A$ :PUT #1,I
5390 VPOKE XM,XL
5400 NEXT
5410 RETURN
5420 '
5430 ' {explode_screen}
5440 '
5450 CLS
5460 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
5470 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*19) ;"Y"
5480 LOCATE 1,3 :PRINT "VÄ ä î û ® ≤ º ∆ – ⁄V"
5490 LOCATE 1,4 :PRINT "V                   V"
5500 LOCATE 1,5 :PRINT "VÅ ã ï ü © ≥ Ω « — €V"
5510 LOCATE 1,6 :PRINT "V                   V"
5520 LOCATE 1,7 :PRINT "VÇ å ñ † ™ ¥ æ » “ ‹V"
5530 LOCATE 1,8 :PRINT "V                   V"
5540 LOCATE 1,9 :PRINT "VÉ ç ó ° ´ µ ø … ” ›V"
5550 LOCATE 1,10 :PRINT "V                   V"
5560 LOCATE 1,11 :PRINT "VÑ é ò ¢ ¨ ∂ ¿   ‘ ﬁV"
5570 LOCATE 1,12 :PRINT "V                   V"
5580 LOCATE 1,13 :PRINT "VÖ è ô £ ≠ ∑ ¡ À ’ ﬂV"
5590 LOCATE 1,14 :PRINT "V                   V"
5600 LOCATE 1,15 :PRINT "VÜ ê ö § Æ ∏ ¬ Ã ÷ ‡V"
5610 LOCATE 1,16 :PRINT "V                   V"
5620 LOCATE 1,17 :PRINT "Vá ë õ • Ø π √ Õ ◊ ·V"
5630 LOCATE 1,18 :PRINT "V                   V"
5640 LOCATE 1,19 :PRINT "Và í ú ¶ ∞ ∫ ƒ Œ ÿ ‚V"
5650 LOCATE 1,20 :PRINT "V                   V"
5660 LOCATE 1,21 :PRINT "Vâ ì ù ß ± ª ≈ œ Ÿ „V"
5670 LOCATE 1,22 :PRINT "Z"; LEFT$(XX$,2*19) ;"["
5680 LOCATE 23,03 :PRINT "VOV Ovrw"
5690 LOCATE 23,21 :PRINT "VEV Back"
5700 VPOKE 6912,200 :VPOKE 6916,200
5710 VPOKE 6920,200 :VPOKE 6928,200
5720 IF ZR THEN GOSUB 6170 :' {end_overview}
5730 '
5740 ' {explode_keys}
5750 '
5760 A$=INKEY$
5770 IF A$ = "O" THEN GOSUB 5960 :' {overview}
5780 IF A$ = CHR$(&H1C) AND YR < 9 AND ZR THEN YR = YR+1 :GOSUB 5860 :' {move_overview_sprite}
5790 IF A$ = CHR$(&H1D) AND YR > 0 AND ZR THEN YR = YR-1 :GOSUB 5860 :' {move_overview_sprite}
5800 IF A$ = CHR$(&H1E) AND YQ > 0 AND ZR THEN YQ = YQ-1 :GOSUB 5860 :' {move_overview_sprite}
5810 IF A$ = CHR$(&H1F) AND YQ < 9 AND ZR THEN YQ = YQ+1 :GOSUB 5860 :' {move_overview_sprite}
5820 IF A$ = CHR$(&H0D) AND ZR THEN ZE = (YQ * YO) + (YR * (YO * 10)) :ZQ = -1 :ZA = ZE :YZ = 16 :YY = 23 :IF ZE + 799 > ZD THEN ZE = ZD - 799 :YZ = 16 :YY = 23 :ZA = ZE :GOTO 1930 ELSE GOTO 1930 :' {search_screen} {search_screen}
5830 IF A$ = "E" THEN GOTO 1930 :' {search_screen}
5840 GOTO 5740 :' {explode_keys}
5850 '
5860 ' {move_overview_sprite}
5870 '
5880 VPOKE 6912,(YQ + 1) * 16 + 6 :VPOKE 6913,(YR + 1) * 16
5890 VPOKE 6916,(YQ + 1) * 16 + 14 :VPOKE 6917,(YR + 1) * 16
5900 YM = (YQ * YO) + (YR * (YO * 10))
5910 IF YM + 799 > ZD THEN YM = ZD - 799
5920 LOCATE 27,13 :PRINT STRING$(4 - LEN(HEX$(YM)),"0") + HEX$(YM)
5930 LOCATE 27,15 :PRINT STRING$(4 - LEN(HEX$(YM + 799)),"0") + HEX$(YM + 799)
5940 RETURN
5950 '
5960 ' {overview}
5970 '
5980 YP = 0
5990 ZR = -1
6000 YO = (ZD / 100)
6010 YN = (9 * YO) + (9 * (YO * 10)) + 8
6020 LOCATE 2,2 :PRINT LEFT$(XX$,2*7) ;"SCAN"; LEFT$(XX$,2*8)
6030 LOCATE 2,22 :PRINT LEFT$(XX$,2*5) ;"VÈVStop"; LEFT$(XX$,2*7)
6040 FOR F = 1 TO YN STEP YO
6050 FOR I = F TO F + 7
6060 VPOKE 1024 + YP,VPEEK(1024 + YP) XOR 255
6070 GET #1,I+1
6080 A$ = ZJ$
6090 VPOKE 1024 + YP,ASC(A$)
6100 YP = YP + 1
6110 IF INKEY$ = " " THEN F = YN + 1 :I = F + 8
6120 NEXT
6130 NEXT
6140 GOSUB 6170 :' {end_overview}
6150 RETURN
6160 '
6170 ' {end_overview}
6180 '
6190 VPOKE 6912,(YQ + 1) * 16 + 6 :VPOKE 6913,(YR + 1) * 16
6200 VPOKE 6916,(YQ + 1) * 16 + 14 :VPOKE 6917,(YR + 1) * 16
6210 LOCATE 23,05 :PRINT "VÍV Move"
6220 LOCATE 23,07 :PRINT "VËV Go"
6230 LOCATE 23,11 :PRINT "Region"
6240 YM = (YQ * YO) + (YR * (YO * 10))
6250 IF YM + 799 > ZD THEN YM = ZD - 799
6260 LOCATE 23,13 :PRINT "St# " + STRING$(4-LEN(HEX$(YM)),"0")+HEX$(YM)
6270 LOCATE 23,15 :PRINT "Ed# " + STRING$(4-LEN(HEX$(YM + 799)),"0")+HEX$(YM + 799)
6280 LOCATE 02,2 :PRINT LEFT$(XX$,2*19)
6290 LOCATE 2,22 :PRINT LEFT$(XX$,2*19)
6300 RETURN
6310 '
6320 ' {window_requester}
6330 '
6340 X = 5 :Y = 10 :W = 21 :H = 2 :GOSUB 6430 :' {vram_conversion}
6350 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(0)
6360 LOCATE 5,10 :PRINT "X"; LEFT$(XX$,2*19) ;"Y"
6370 LOCATE 5,11 :PRINT "VAre you sure? (Y/N)V"
6380 LOCATE 5,12 :PRINT "Z"; LEFT$(XX$,2*19) ;"[
6390 A$ = INKEY$ :IF A$ <> "Y" AND A$ <> "N" THEN 6390 :' {SELF}
6400 IF A$ = "N" THEN POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(1) :RETURN 2620 :' {read_keyboard_main}
6410 RETURN
6420 '
6430 ' {vram_conversion}
6440 '
6450 S=&H1800
6460 ZN = FN YF(X,Y,S) :ZM = FN YE(X,Y,S)
6470 ZL = W+1 :ZK = H+1
6480 IF YG THEN S=0 :ZL = FN YF(W,H,S) :ZK = FN YE(W,H,S)
6490 RETURN
6500 ' Error Handling Routines
6510 '
6520 ' {error}
6530 '
6540 IF ERR = 53 AND YK = 2 THEN GOTO 6810 :' {bad_file_name}
6550 IF ERR = 56 AND YK = 2 THEN GOTO 6810 :' {bad_file_name}
6560 IF ERR = 55 AND YK = 4 THEN YK = 0 :YJ = 0 :YI$ = "CONFIG FILE CORRUPTED" :RESUME 3360 :ON ERROR GOTO 0 :' {config_failed}
6570 IF ERR = 53 AND YK = 4 THEN YK = 0 :YJ = 0 :YI$ = "CONFIG FILE NOT FOUND" :RESUME 3360 :ON ERROR GOTO 0 :' {config_failed}
6580 IF ERR = 53 AND YK = 3 THEN YK = 0 :RESUME 460 :ON ERROR GOTO 0 :' {ml_fallback}
6590 IF (ERR = 53 AND YK = 1) OR ERR = 70 THEN GOTO 6710 :' {file_not_found}
6600 XK = ERR :IF XK > 25 THEN XK = XK - 24
6610 LOCATE 0,21
6620 FOR F = YL(XK) TO YL(XK + 1) :PRINT CHR$(PEEK(&H3D75 + F)); :NEXT
6630 PRINT " at"; ERL; "(";ERR;") "
6640 '
6650 ' {stopped}
6660 '
6670 CLOSE
6680 LOCATE 0,22
6690 END
6700 '
6710 ' {file_not_found}
6720 '
6730 PRINT :PRINT "No files found"
6740 PRINT :PRINT "Press space to restart"
6750 IF INKEY$<>" "THEN6750 :' {SELF}
6760 YK = 0
6770 CLS
6780 RESUME 760 :' {insert_disk}
6790 ON ERROR GOTO 0
6800 '
6810 ' {bad_file_name}
6820 '
6830 PRINT :PRINT
6840 IF ERR = 53 THEN PRINT YD$;" not found"
6850 IF ERR = 56 THEN PRINT "Invalid name"
6860 PRINT :PRINT "Press space to restart"
6870 IF INKEY$<>" "THEN6870 :' {SELF}
6880 YK = 0
6890 RESUME 760 :' {insert_disk}
6900 ON ERROR GOTO 0
6910 ' Error Messages in ROM
6920 '
6930 ' {portuguese_ROM}
6940 '
6950 DATA 0,13,26,43,52,66,75,89,110,132,147
6960 DATA 164,178,192,210,223,239,253,271,287
6970 DATA 304,311,328,344,359,371,383,396,410
6980 DATA 429,444,459,475,501,520,531
6990 '
7000 ' {english_ROM}
7010 '
7020 DATA 0,17,30,51,63,85,94,108,130,153,173
7030 DATA 190,205,219,239,255,282,297,321,338
7040 DATA 351,361,382,400,416,437,452,467,483
7050 DATA 498,516,531
7060 ' ML Routines at 0xd000. ASM Source on GitHub
7070 '
7080 ' {ml_routines}
7090 '
7100 DATA 00,00,00,00,00,00,00,00,c3,14,da,c3,27,da,c3,35
7110 DATA da,c3,5a,da,3a,00,da,47,21,40,00,cd,4a,00,ee,ff
7120 DATA cd,4d,00,23,10,f5,c9,3a,f8,f7,ed,4b,00,da,2a,02
7130 DATA da,cd,56,00,c9,3a,f8,f7,fe,00,ca,4c,da,ed,4b,02
7140 DATA da,ed,5b,00,da,21,93,da,cd,5c,00,c9,ed,4b,02,da
7150 DATA 11,93,da,2a,00,da,cd,59,00,c9,11,40,00,21,4e,18
7160 DATA 3a,00,da,47,c5,3a,01,da,47,c5,eb,cd,4a,00,eb,06
7170 DATA 08,17,f5,38,1a,3e,10,cd,4d,00,f1,23,10,f3,13,d5
7180 DATA 11,18,00,19,d1,c1,10,e1,21,56,18,c1,10,d6,c9,3e
7190 DATA e4,18,e4
7200 ' Character Shapes
7210 '
7220 ' {character_shapes}
7230 '
7240 DATA 255,128,128,128,128,128,128,255
7250 DATA 255,0,0,0,0,0,0,255
7260 DATA 255,1,1,1,1,1,1,255
7270 DATA 255,129,129,129,129,129,129,255
7280 DATA 255,255,255,255,255,255,255,255
7290 DATA 0,126,126,126,126,126,126,0
7300 DATA 4,4,36,100,252,96,32,0
7310 DATA 0,0,219,154,82,211,0,0
7320 DATA 231,195,165,24,24,165,195,231
7330 ' Sprite Shapes
7340 DATA 255,129,0,0,0,0,0,0
7350 DATA 129,255,0,0,0,0,0,0
7360 DATA 0,128,128,128,128,128,128,0
7370 DATA 255,129,129,129,129,129,129,255
7380 ' Functions Not Used
7390 ' Create Character Block
7400 C=127
7410 FOR X=2 TO 11
7420 FOR Y=3 TO 12
7430 C=C+1 :LOCATE X,Y :PRINT :PRINT CHR$(C)
7440 NEXT
7450 NEXT
7460 END
7470 ' Character Map
7480 FOR I=0 TO 255
7490 X=I MOD 32 :Y=I\32
7500 C=I
7510 IF C<32 OR C=127 THEN C=32
7520 LOCATE X,Y :PRINT CHR$(C)
7530 LOCATE X,Y+10 :PRINT CHR$(1)+CHR$(C)
7540 NEXT
7550 END
7560 ' ZZ-colorB, ZY-color1, ZX-color2, ZW-color3, ZV-color4
7570 ' ZU-color5, ZT-color6, ZS-haltScan, ZR-isOverview, ZQ-goOverview
7580 ' ZP-keysPage, ZO-keysEdit, ZN-VRAMx, ZM-VRAMy, ZL-VRAMw
7590 ' ZK-VRAMh, ZJ-bytes, ZI-lowByte, ZH-highByte, ZG-gameStart
7600 ' ZF-gameEnd, ZE-regionStart, ZD-gameLength, ZC-regionStep, ZB-spriteStep
7610 ' ZA-cursorPos, YZ-cursorX, YY-cursorY, YX-cursorSize, YW-areaSize
7620 ' YV-finalPos, YU-prevLen, YT-editLin, YS-editCol, YR-ovrwX
7630 ' YQ-ovrwY, YP-bytePos, YO-sliceSize, YN-lastSlice, YM-ovrwRegion
7640 ' YL-errorM, YK-errorType, YJ-configLoad, YI-configMessage, YH-MLs
7650 ' YG-mlFallback, YF-horiz, YE-verti, YD-gameName, YC-gameExtension
7660 ' YB-memPos, YA-posLoad, XZ-count, XY-letra, XX-lin
7670 ' XW-blk, XV-adjustY, XU-adjustX, XT-posIni, XS-cursorDisplace
7680 ' XR-editType, XQ-editX, XP-editY, XO-pixel, XN-posY
7690 ' XM-scanPos, XL-previewByte, XK-errorNum
