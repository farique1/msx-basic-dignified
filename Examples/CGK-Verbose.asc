10 ' Converted with MSX Basic Dignified
20 ' https://github.com/farique1/msx-basic-dignified
30 ' CHANGE GRAPH KIT
40 ' v1.6.1
50 ' Edit uncompressed graphics on MSX binary files on disk
60 '
70 ' Copyright (C) 1984-2020 - Fred Rique (farique)
80 ' https://github.com/farique1/Change-Graph-Kit
90 '
100 ' New
110 '   Fixed error lookup in machines with English language (or in MSX2?)
120 '   Improved error reporting routine to output to the new MSX Badig Build Monitor Execution
130 '   Improved ON STOP routine and added MSX Badig Build Monitor Execution reporting
140 '   Adjusted background and border colors on quit to 4 instead of 5
150 '
160 CLEAR 200,&HDA00
170 DEFINT A-Z :MAXFILES = 2
180 ON STOP GOSUB 6630 :STOP ON :' {stopped}
190 ON ERROR GOTO 6490 :' {error}
200 DIM YL(36)
210 YK = 0
220 YJ = -1
230 YI$ = ""
240 ZY = 1 :ZX = 15 :ZW = 2 :ZV = 6 :ZU = 2 :ZT = 1
250 SCREEN 0 :COLOR ZX,ZY,ZY :WIDTH 40 :KEY OFF
260 LOCATE 14,11 :PRINT "INITIALIZING"
270 LOCATE 14,13 :PRINT " MAKING STR "
280 GOSUB 1450 :' {createStrings}
290 LOCATE 14,13 :PRINT " ERROR MSGS "
300 ' Using the time format in ROM to determine language
310 IF (PEEK(&H2B) AND 112) = 32 THEN RESTORE 6920 ELSE RESTORE 6990 :' {portuguese_ROM} {english_ROM}
320 FOR F = 1 TO 36 :READ A :YL(F) = A :NEXT
330 LOCATE 14,13 :PRINT "LOADING CONF"
340 GOSUB 3270 :' {load_config}
350 LOCATE 14,13 :PRINT " ML SUPPORT "
360 YH = &HDA00
370 YK = 3
380 BLOAD "CGKTools.com"
390 YG = 0
400 RESTORE 7210 :' {character_shapes}
410 GOTO 510 :' {ml_setup}
420 '
430 ' {ml_fallback}
440 '
450 LOCATE 8,8 :PRINT " CGKTools.bin not found"
460 LOCATE 8,9 :PRINT "Using internal fall back"
470 RESTORE 7070 :' {ml_routines}
480 FOR F = 0 TO 146 :READ A$ :LOCATE 18,15 :PRINT 147-F :POKE YH+F,VAL("&h"+A$) :NEXT :LOCATE 18,15 :PRINT "   "
490 YG = -1
500 '
510 ' {ml_setup}
520 '
530 DEFUSR0 = YH+&H08 ' invert_VRAM 		v0=len
540 DEFUSR1 = YH+&H0B ' fill_VRAM 		v0-v1=len v2-v3=srt usr(ptrn)
550 DEFUSR2 = YH+&H0E ' copy_VRAM 		v0-v1=VRAM v2=width v3=height usr(direc)
560 DEFUSR3 = YH+&H11 ' populate_edit 	v0=col_len v1=lin_len
570 DEFUSR4 = YH+&H14 ' flip_VRAM		 	v0=len
580 DEFUSR5 = YH+&H17 ' rotate_VRAM	 	v0=len
590 DEFUSR6 = YH+&H1A ' slide_VRAM	 	v0=len usr(direc)
600 DEF FN YF(X,Y,S) = (X + S + (Y * 32)) MOD 256
610 DEF FN YE(X,Y,S) = INT((X + S + (Y * 32))/256)
620 '
630 ' {start}
640 '
650 SCREEN 0 :WIDTH 40
660 DEF FN ZZ(X) = ABS(X MOD 16 + 16) MOD 16
670 ZS = 0 :ZR = 0 :ZQ = 0 :ZP = 0
680 YD$ = "" ' leave blank to enable file request
690 YC$ = ".bin" ' leave blank to all
700 IF YC$ = "" THEN YC$ = ".*"
710 IF YD$ <> "" THEN GOTO 1630 :' {inicializacao}
720 '
730 ' {insert_disk}
740 '
750 CLS
760 YK = 1
770 LOCATE 14,8 :PRINT "Insert disk"
780 LOCATE 11,10 :PRINT "and press any key"
790 IF NOT YJ THEN LOCATE 9,18 :PRINT YI$
800 IF INKEY$=""THEN800 :' {SELF}
810 YJ = -1
820 YI$ = ""
830 CLS
840 FILES "*"+YC$
850 PRINT :PRINT
860 PRINT ":Load" :PRINT ":ARROWS choose:ENTER select:SPACE type";
870 FOR F = 0 TO 24
880 YB = 0 + 40 * F
890 IF CHR$(VPEEK(YB)) = ":" THEN YA = F - 1
900 NEXT
910 X = 12 :Y = 0
920 YB = X + 40 * Y
930 GOSUB 1230 :' {show_content}
940 '
950 ' {keys}
960 '
970 A$=INKEY$
980 LOCATE X,Y :PRINT "{"
990 LOCATE X,Y :PRINT "<"
1000 IF A$ = "" THEN 950 :' {keys}
1010 LOCATE X,Y :PRINT " "
1020 PX = X :PY = Y
1030 IF A$ = CHR$(&H1C) THEN X = X+13 :GOSUB 1130 :' {move_cursor_files}
1040 IF A$ = CHR$(&H1D) THEN X = X-13 :GOSUB 1130 :' {move_cursor_files}
1050 IF A$ = CHR$(&H1E) THEN Y = Y-1 :GOSUB 1130 :' {move_cursor_files}
1060 IF A$ = CHR$(&H1F) THEN Y = Y+1 :GOSUB 1130 :' {move_cursor_files}
1070 IF A$ = CHR$(&H0D) THEN 1580 :' {continue}
1080 IF A$ = " " THEN 1510 :' {type_name}
1090 LOCATE X,Y :PRINT "<"
1100 GOSUB 1230 :' {show_content}
1110 GOTO 950 :' {keys}
1120 '
1130 ' {move_cursor_files}
1140 '
1150 IF X >= 39 THEN X = 12
1160 IF X <= 0 THEN X = 38
1170 IF Y <= 0 THEN Y = 0
1180 IF Y >= 24 THEN Y = 24
1190 YB = X + 40 * Y
1200 IF VPEEK(YB - 12) = 32 THEN X = PX :Y = PY :YB = X + 40 * Y
1210 RETURN
1220 '
1230 ' {show_content}
1240 '
1250 XZ = 0 :YD$ = "" :XY$ = ""
1260 LOCATE 6,YA :PRINT "            "
1270 FOR F = YB - 12 TO YB - 1
1280 XY$ = CHR$(VPEEK(F))
1290 YD$ = YD$ + XY$
1300 LOCATE 6+XZ,YA :PRINT XY$
1310 XZ = XZ + 1
1320 NEXT
1330 RETURN
1340 '
1350 ' {game_small}
1360 '
1370 CLS
1380 LOCATE 13,11 :PRINT "Sorry"
1390 LOCATE 00,12 :PRINT "The game must be over 800 bytes"
1400 LOCATE 05,13 :PRINT "Press space to restart"
1410 IF INKEY$<>" "THEN1410 :' {SELF}
1420 SCREEN 0
1430 RETURN
1440 '
1450 ' {createStrings}
1460 '
1470 XX$ = "W" :XW$ = "_"
1480 FOR F = 0 TO 4 :XX$=XX$+XX$ :XW$=XW$+XW$ :NEXT
1490 RETURN
1500 '
1510 ' {type_name}
1520 '
1530 YK = 2
1540 LOCATE 6,YA :? "            "
1550 LOCATE 6,YA :LINE INPUT YD$
1560 IF YD$ = "" THEN GOSUB 1230 :GOTO 950 :' {show_content} {keys}
1570 '
1580 ' {continue}
1590 '
1600 LOCATE 39,YA+1 :PRINT
1610 FILES YD$
1620 '
1630 ' {inicializacao}
1640 '
1650 CLS :SCREEN 1 :WIDTH 32
1660 POKE YH+0,&H20 :POKE YH+1,&H03 :POKE YH+2,&H00 :POKE YH+3,&H04 :A=USR1(0)
1670 VPOKE 6914,0 :VPOKE 6918,1 :VPOKE 6922,2 :VPOKE 6926,3 :VPOKE 6930,2
1680 LOCATE 10,11 :PRINT "INITIALIZING"
1690 LOCATE 10,13 :PRINT "    GAME    "
1700 OPEN YD$ AS #1 LEN = 1
1710 FIELD #1,1 AS ZJ$
1720 GET #1,3 :ZI$ = ZJ$ :GET #1,2 :ZH$ = ZJ$ :ZG = (ASC(ZI$) * 256 + ASC(ZH$)) - 65535!
1730 GET #1,5 :ZI$ = ZJ$ :GET #1,4 :ZH$ = ZJ$ :ZF = (ASC(ZI$) * 256 + ASC(ZH$)) - 65535!
1740 ZD = ZF - ZG - 1
1750 ZE = 0 :ZC = 800 :ZB = 8 :ZS = -1
1760 ZA = ZE :YZ = 16 :YY = 23 :YX = 32
1770 IF ZD < 800 THEN CLOSE :GOSUB 1350 :GOTO 730 :' {game_small} {insert_disk}
1780 LOCATE 10,13 :PRINT "   SHAPES   "
1790 LOCATE 15,15 :PRINT "06"
1800 FOR F = 0 TO 23 :READ A :VPOKE &H0008 + F,A :NEXT :LOCATE 15,15 :PRINT "05"
1810 FOR F = 0 TO 7 :READ A :VPOKE &H0080 + F,A :NEXT :LOCATE 15,15 :PRINT "04"
1820 FOR F = 0 TO 7 :READ A :VPOKE &H00F8 + F,A :NEXT :LOCATE 15,15 :PRINT "03"
1830 FOR F = 0 TO 7 :READ A :VPOKE &H0720 + F,A :NEXT :LOCATE 15,15 :PRINT "02"
1840 FOR F = 0 TO 23 :READ A :VPOKE &H0740 + F,A :NEXT :LOCATE 15,15 :PRINT "01"
1850 FOR F = 0 TO 31 :READ A :VPOKE &H3800 + F,A :NEXT :LOCATE 15,15 :PRINT "00"
1860 POKE YH+0,&H20 :POKE YH+1,&H00 :POKE YH+2,&H60 :POKE YH+3,&H00 :A=USR1(0)
1870 LOCATE 10,13 :PRINT "   COLORS   "
1880 GOSUB 2960 :' {set_color}
1890 '
1900 ' {search_screen}
1910 '
1920 CLS
1930 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
1940 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*10) ;"Y"
1950 LOCATE 1,3 :PRINT "VÄäîû®≤º∆–⁄V"
1960 LOCATE 1,4 :PRINT "VÅãïü©≥Ω«—€V"
1970 LOCATE 1,5 :PRINT "VÇåñ†™¥æ»“‹V"
1980 LOCATE 1,6 :PRINT "VÉçó°´µø…”›V"
1990 LOCATE 1,7 :PRINT "VÑéò¢¨∂¿ ‘ﬁV"
2000 LOCATE 1,8 :PRINT "VÖèô£≠∑¡À’ﬂV"
2010 LOCATE 1,9 :PRINT "VÜêö§Æ∏¬Ã÷‡V"
2020 LOCATE 1,10 :PRINT "Váëõ•Øπ√Õ◊·V"
2030 LOCATE 1,11 :PRINT "Vàíú¶∞∫ƒŒÿ‚V"
2040 LOCATE 1,12 :PRINT "Vâìùß±ª≈œŸ„V"
2050 LOCATE 1,13 :PRINT "Z"; LEFT$(XX$,2*10) ;"["
2060 LOCATE 3,15 :PRINT "Srt# End#"
2070 LOCATE 1,17 :PRINT "C"
2080 LOCATE 3,17 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
2090 LOCATE 8,17 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
2100 LOCATE 1,19 :PRINT "R"
2110 LOCATE 3,19 :PRINT STRING$(4-LEN(HEX$(ZE)),"0")+HEX$(ZE)
2120 LOCATE 8,19 :PRINT STRING$(4-LEN(HEX$(ZE + 799)),"0")+HEX$(ZE + 799)
2130 LOCATE 1,21 :PRINT "G"
2140 LOCATE 3,21 :PRINT STRING$(4-LEN(HEX$(0)),"0")+HEX$(0)
2150 LOCATE 8,21 :PRINT STRING$(4-LEN(HEX$(ZD)),"0")+HEX$(ZD)
2160 LOCATE 13,2 :PRINT "X"; LEFT$(XX$,2*16) ;"Y"
2170 LOCATE 13,3 :PRINT "VCursor Stp #   "+RIGHT$(STR$(ZB),1)+"V"
2180 LOCATE 13,4 :PRINT "VRegion Stp # "+RIGHT$(HEX$(ZC),3)+"V"
2190 LOCATE 13,5 :PRINT "Z"; LEFT$(XX$,2*16) ;"["
2200 '
2210 ' {keys_page_start}
2220 '
2230 ON ZP GOTO 2330 :' {keys_page_2}
2240 LOCATE 13,7 :PRINT "VÍVMove VËVEdit   "
2250 LOCATE 13,9 :PRINT "VÈVStep VDVSize   "
2260 LOCATE 13,11 :PRINT "VBVClearVRVRefresh"
2270 LOCATE 13,13 :PRINT "VTVScan und cursor "
2280 LOCATE 13,15 :PRINT "VFVFreeze/Unfreeze"
2290 LOCATE 13,17 :PRINT "VEVExplode/Ovrview"
2300 LOCATE 13,19 :PRINT "                  "
2310 GOTO 2430 :' {keys_page_end}
2320 '
2330 ' {keys_page_2}
2340 '
2350 LOCATE 13,7 :PRINT "VNVNew  VPVExit  "
2360 LOCATE 13,9 :PRINT "VQVPrev VWVNext   "
2370 LOCATE 13,11 :PRINT "VAVP 4x VSVN 4x   "
2380 LOCATE 13,13 :PRINT "VZVSrtVXVMidVCVEnd"
2390 LOCATE 13,15 :PRINT "VK LVCfg Save Load"
2400 LOCATE 13,17 :PRINT "V1-8VChange Colors"
2410 LOCATE 13,19 :PRINT "                  "
2420 '
2430 ' {keys_page_end}
2440 '
2450 LOCATE 13,19 :PRINT "      VMVMore Keys"
2460 LOCATE 13,21 :PRINT "ABBBBBBBBBBBBBBBBC"
2470 GOSUB 3930 :' {end_scan}
2480 IF ZR = -1 THEN LOCATE 2,13 :PRINT "WOverviewW"
2490 XV = YY + (YX - 2) :XU = 0
2500 IF YY + (YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + (YX - 2)) - 103
2510 IF YZ + XU > 95 THEN XV = 200
2520 VPOKE 6912,YY - 1 :VPOKE 6913,YZ
2530 VPOKE 6916,XV + 1 :VPOKE 6917,XU + YZ
2540 XT = ZE / (ZD / 141) + 105
2550 VPOKE 6920,167 :VPOKE 6921,XT
2560 VPOKE 6928,167 :VPOKE 6929,XT+(141/(ZD/800))
2570 IF ZQ THEN ZQ = 0 :GOSUB 3670 :' {update_memory_position}
2580 '
2590 ' {read_keyboard_main}
2600 '
2610 A$ = INKEY$
2620 IF A$ = CHR$(&H1C) AND (YZ + 8 < 95) AND (ZA + YX-2 + 80 < ZD) THEN YZ = YZ+8 :ZA = ZA+80 :GOSUB 3450 :' {move_scan_sprite}
2630 IF A$ = CHR$(&H1D) AND (YZ - 8 > 15) THEN YZ = YZ-8 :ZA = ZA-80 :GOSUB 3450 :' {move_scan_sprite}
2640 IF A$ = CHR$(&H1E) AND (YY - ZB > 22) THEN YY = YY-ZB :ZA = ZA-ZB :GOSUB 3450 :' {move_scan_sprite}
2650 IF A$ = CHR$(&H1F) AND (YY + ZB < 103) AND (ZA + YX-2 + ZB < ZD) THEN YY = YY+ZB :ZA = ZA+ZB :GOSUB 3450 :' {move_scan_sprite}
2660 IF A$ = "1" THEN ZY = ZY-1 :GOSUB 2960 :' {set_color}
2670 IF A$ = "2" THEN ZY = ZY+1 :GOSUB 2960 :' {set_color}
2680 IF A$ = "3" THEN ZX = ZX-1 :GOSUB 2960 :' {set_color}
2690 IF A$ = "4" THEN ZX = ZX+1 :GOSUB 2960 :' {set_color}
2700 IF A$ = "5" THEN ZW = ZW-1 :GOSUB 2960 :' {set_color}
2710 IF A$ = "6" THEN ZW = ZW+1 :GOSUB 2960 :' {set_color}
2720 IF A$ = "7" THEN ZV = ZV-1 :GOSUB 2960 :' {set_color}
2730 IF A$ = "8" THEN ZV = ZV+1 :GOSUB 2960 :' {set_color}
2740 IF A$ = CHR$(&H0D) THEN GOTO 4060 :' {edit_screen}
2750 IF A$ = "E" THEN GOTO 5400 :' {explode_screen}
2760 IF A$ = "D" THEN GOSUB 3560 :' {change_sprite_size}
2770 IF A$ = " " THEN GOSUB 3990 :' {change_movement_step}
2780 IF A$ = "R" THEN XS = 0 :GOSUB 3830 :' {scan}
2790 IF A$ = "M" THEN ZP = ABS(ZP - 1) :GOTO 2210 :' {keys_page_start}
2800 IF A$ = "B" THEN POKE YH+0,&H20 :POKE YH+1,&H03 :POKE YH+2,&H00 :POKE YH+3,&H04 :A=USR1(0)
2810 IF A$ = "N" THEN GOSUB 6290 :CLOSE :RESTORE 7210 :GOTO 630 :' {window_requester} {character_shapes} {start}
2820 IF A$ = "P" THEN GOSUB 6290 :CLOSE :CLEAR :SCREEN 0 :WIDTH 40 :COLOR 15,4,4 :NEW :' {window_requester}
2830 IF A$ = "K" THEN GOSUB 3140 :' {save_config}
2840 IF A$ = "T" THEN GOSUB 3380 :' {refresh_cursor_area}
2850 IF A$ = "L" THEN GOSUB 3270 :GOSUB 2960 :' {load_config} {set_color}
2860 IF A$ = "Q" THEN XS = ZA-ZE :ZE = ZE-ZC :GOSUB 3670 :' {update_memory_position}
2870 IF A$ = "W" THEN XS = ZA-ZE :ZE = ZE+ZC :GOSUB 3670 :' {update_memory_position}
2880 IF A$ = "A" THEN XS = ZA-ZE :ZE = ZE-ZC*4 :GOSUB 3670 :' {update_memory_position}
2890 IF A$ = "S" THEN XS = ZA-ZE :ZE = ZE+ZC*4 :GOSUB 3670 :' {update_memory_position}
2900 IF A$ = "Z" THEN XS = ZA-ZE :ZE = &H00 :GOSUB 3670 :' {update_memory_position}
2910 IF A$ = "X" THEN XS = ZA-ZE :ZE = (ZD/2 :GOSUB 3670 - 400) :' {update_memory_position}
2920 IF A$ = "C" THEN XS = ZA-ZE :ZE = ZD-799 :GOSUB 3670 :' {update_memory_position}
2930 IF A$ = "F" THEN XS = 0 :ZS = NOT ZS :IF ZS THEN GOSUB 3930 :ELSE :GOSUB 3830 :' {end_scan} {scan}
2940 GOTO 2590 :' {read_keyboard_main}
2950 '
2960 ' {set_color}
2970 '
2980 ZY = FN ZZ(ZY)
2990 ZX = FN ZZ(ZX)
3000 ZW = FN ZZ(ZW)
3010 ZV = FN ZZ(ZV)
3020 ZU = FN ZZ(ZU)
3030 ZT = FN ZZ(ZT)
3040 COLOR ZX,ZY,ZY
3050 VPOKE 8194,ZV * 16 + ZY
3060 VPOKE 8195,ZV * 16 + ZY
3070 VPOKE 8192,ZV * 16 + ZW
3080 VPOKE 8193,ZW * 16 + ZY
3090 VPOKE 6915,ZX :VPOKE 6919,ZX
3100 VPOKE 6923,ZX :VPOKE 6927,ZX :VPOKE 6931,ZX
3110 FOR F = 0 TO 12 :VPOKE 8208+F,ZW * 16 + ZY :NEXT
3120 RETURN
3130 '
3140 ' {save_config}
3150 '
3160 X = 12 :Y = 10 :W = 8 :H = 2 :GOSUB 6400 :' {vram_conversion}
3170 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(0)
3180 LOCATE 12,10 :PRINT "X"; LEFT$(XX$,2*6) ;"Y"
3190 LOCATE 12,11 :PRINT "VSAVINGV"
3200 LOCATE 12,12 :PRINT "Z"; LEFT$(XX$,2*6) ;"[
3210 OPEN "CGKConf.cfg" FOR OUTPUT AS #2
3220 PRINT #2,ZY,ZX,ZW,ZV,ZU,ZT
3230 CLOSE #2
3240 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(1)
3250 RETURN
3260 '
3270 ' {load_config}
3280 '
3290 YK = 4
3300 OPEN "CGKConf.cfg" FOR INPUT AS #2
3310 INPUT #2,ZY,ZX,ZW,ZV,ZU,ZT
3320 '
3330 ' {config_failed}
3340 '
3350 CLOSE #2
3360 RETURN
3370 '
3380 ' {refresh_cursor_area}
3390 '
3400 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
3410 IF YV > ZD - 1 THEN YV = ZD - 1
3420 FOR I = ZA TO YV :GET #1,I+1 :VPOKE 1024 - ZE + I,VPEEK(1024 - ZE + I) XOR 255 :A$ = ZJ$ :VPOKE 1024 - ZE + I,ASC(A$) :NEXT
3430 RETURN
3440 '
3450 ' {move_scan_sprite}
3460 '
3470 XV = YY + ( YX - 2) :XU = 0
3480 IF YY + ( YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + ( YX - 2)) - 103
3490 IF YZ + XU > 95 THEN XV = 200
3500 VPOKE 6912,YY - 1 :VPOKE 6913,YZ
3510 VPOKE 6916,XV + 1 :VPOKE 6917,YZ + XU
3520 LOCATE 3,17 :PRINT STRING$(4 - LEN(HEX$(ZA)),"0")+HEX$(ZA)
3530 LOCATE 8,17 :PRINT STRING$(4 - LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
3540 RETURN
3550 '
3560 ' {change_sprite_size}
3570 '
3580 IF YX = 32 THEN YX = 8 ELSE IF ZA + YX + 22 < ZD THEN YX = 32 ELSE RETURN
3590 XV = YY + (YX - 2) :XU = 0
3600 IF YY + (YX - 2) > 101 THEN XU = 8 :XV = 23 + (YY + (YX - 2)) - 103
3610 IF YZ + XU > 95 THEN XV = 200
3620 VPOKE 6916,XV + 1 :VPOKE 6917,YZ + XU
3630 LOCATE 3,17 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
3640 LOCATE 8,17 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
3650 RETURN
3660 '
3670 ' {update_memory_position}
3680 '
3690 IF ZE < 0 THEN ZE = 0
3700 IF ZE + 799 > ZD THEN ZE = ZD - 799
3710 ZA = ZE + XS
3720 XT = ZE / (ZD / 141) + 105
3730 VPOKE 6920,167 :VPOKE 6921,XT
3740 VPOKE 6928,167 :VPOKE 6929,XT+(141/(ZD/800))
3750 LOCATE 3,17 :PRINT STRING$(4 - LEN(HEX$(ZA)),"0")+HEX$(ZA)
3760 LOCATE 8,17 :PRINT STRING$(4 - LEN(HEX$(ZA + 7)),"0")+HEX$(ZA + 7)
3770 LOCATE 3,19 :PRINT STRING$(4 - LEN(HEX$(ZE)),"0")+HEX$(ZE)
3780 LOCATE 8,19 :PRINT STRING$(4 - LEN(HEX$(ZE + 799)),"0")+HEX$(ZE + 799)
3790 IF ZA + YX > ZD THEN YZ = 95-7 :YY = 103-YX :ZA = ZD-YX+1 :GOSUB 3450 :' {move_scan_sprite}
3800 IF NOT ZS THEN GOSUB 3830 :' {scan}
3810 RETURN
3820 '
3830 ' {scan}
3840 '
3850 ZR = 0
3860 LOCATE 2,2 :PRINT LEFT$(XX$,2*3) ;"SCAN"; LEFT$(XX$,2*3)
3870 LOCATE 2,13 :PRINT "WVÈVStopWW"
3880 FOR F = ZE TO ZE + 799
3890 VPOKE 1024 - ZE + F,VPEEK(1024 - ZE + F) XOR 255 :GET #1,F+1 :A$ = ZJ$ :VPOKE 1024 - ZE + F,ASC(A$) :IF INKEY$=" " THEN F = ZE + 800 ELSE NEXT
3900 GOSUB 3930 :' {end_scan}
3910 RETURN
3920 '
3930 ' {end_scan}
3940 '
3950 IF ZS THEN LOCATE 2,2 :PRINT "WWFREEZEWW" ELSE LOCATE 2,2 :PRINT LEFT$(XX$,2*10)
3960 LOCATE 2,13 :PRINT LEFT$(XX$,2*10)
3970 RETURN
3980 '
3990 ' {change_movement_step}
4000 '
4010 ZB = ( 8 + 1) - ZB
4020 ZC = (800 + 400) - ZC
4030 LOCATE 29,3 :PRINT RIGHT$(HEX$(ZB),1) :LOCATE 27,4 :PRINT RIGHT$(HEX$(ZC),3)
4040 RETURN
4050 '
4060 ' {edit_screen}
4070 '
4080 CLS
4090 VPOKE 6920,200 :VPOKE 6928,200
4100 POKE YH+0,&H20 :POKE YH+1,&H00 :POKE YH+2,&H40 :POKE YH+3,&H00 :A=USR1(0)
4110 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
4120 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*10) ;"Y"
4130 LOCATE 1,3 :PRINT "VÄäîû®≤º∆–⁄V"
4140 LOCATE 1,4 :PRINT "VÅãïü©≥Ω«—€V"
4150 LOCATE 1,5 :PRINT "VÇåñ†™¥æ»“‹V"
4160 LOCATE 1,6 :PRINT "VÉçó°´µø…”›V"
4170 LOCATE 1,7 :PRINT "VÑéò¢¨∂¿ ‘ﬁV"
4180 LOCATE 1,8 :PRINT "VÖèô£≠∑¡À’ﬂV"
4190 LOCATE 1,9 :PRINT "VÜêö§Æ∏¬Ã÷‡V"
4200 LOCATE 1,10 :PRINT "Váëõ•Øπ√Õ◊·V"
4210 LOCATE 1,11 :PRINT "Vàíú¶∞∫ƒŒÿ‚V"
4220 LOCATE 1,12 :PRINT "Vâìùß±ª≈œŸ„V"
4230 LOCATE 1,13 :PRINT "Z"; LEFT$(XX$,2*10) ;"["
4240 LOCATE 1,14 :PRINT "X"; LEFT$(XX$,2*2) ;"R"; LEFT$(XX$,2*4) ;"R"; LEFT$(XX$,2*2) ;"Y"
4250 LOCATE 1,15 :PRINT "VHJV    VLNV"
4260 LOCATE 1,16 :PRINT "VIKV    VMOV"
4270 LOCATE 1,17 :PRINT "Z"; LEFT$(XX$,2*2) ;"Q"; LEFT$(XX$,2*4) ;"Q"; LEFT$(XX$,2*2) ;"["
4280 LOCATE 5,15 :PRINT STRING$(4-LEN(HEX$(ZA)),"0")+HEX$(ZA)
4290 LOCATE 5,16 :PRINT STRING$(4-LEN(HEX$(ZA + ( YX - 1))),"0")+HEX$(ZA + ( YX - 1))
4300 LOCATE 14,2 :PRINT LEFT$(XW$,2*16)
4310 LOCATE 14,3 :PRINT LEFT$(XW$,2*16)
4320 LOCATE 14,4 :PRINT LEFT$(XW$,2*16)
4330 LOCATE 14,5 :PRINT LEFT$(XW$,2*16)
4340 LOCATE 14,6 :PRINT LEFT$(XW$,2*16)
4350 LOCATE 14,7 :PRINT LEFT$(XW$,2*16)
4360 LOCATE 14,8 :PRINT LEFT$(XW$,2*16)
4370 LOCATE 14,9 :PRINT LEFT$(XW$,2*16)
4380 LOCATE 14,10 :PRINT LEFT$(XW$,2*16)
4390 LOCATE 14,11 :PRINT LEFT$(XW$,2*16)
4400 LOCATE 14,12 :PRINT LEFT$(XW$,2*16)
4410 LOCATE 14,13 :PRINT LEFT$(XW$,2*16)
4420 LOCATE 14,14 :PRINT LEFT$(XW$,2*16)
4430 LOCATE 14,15 :PRINT LEFT$(XW$,2*16)
4440 LOCATE 14,16 :PRINT LEFT$(XW$,2*16)
4450 LOCATE 14,17 :PRINT LEFT$(XW$,2*16)
4460 VPOKE 6924,15 :VPOKE 6925,112
4470 '
4480 ' {keys_edit_start}
4490 '
4500 IF YG THEN ZO = 0
4510 ON ZO GOTO 4570 :' {keys_edit_2}
4520 LOCATE 01,19 :PRINT "VCVCpyVVVPst"
4530 LOCATE 07,21 :PRINT "V#VCor"
4540 IF NOT YG THEN LOCATE 01,21 :PRINT "VMVKys"
4550 GOTO 4620 :' {keys_edit_end}
4560 '
4570 ' {keys_edit_2}
4580 '
4590 LOCATE 01,19 :PRINT "VRVRotVTVHmv"
4600 LOCATE 01,21 :PRINT "VFVFlpVGVVmv"
4610 '
4620 ' {keys_edit_end}
4630 '
4640 LOCATE 13,19 :PRINT "VEVErzVÈVTglVLVRld"
4650 LOCATE 13,21 :PRINT "VDVInvVSVSavVËVBck"
4660 IF XR >= 0 THEN XR = 0 :XQ = 0 :XP = 0 :GOSUB 4950 :' {fill_edit_area}
4670 XR = 0
4680 '
4690 ' {read_keyboard_edit}
4700 '
4710 A$ = INKEY$
4720 IF A$ = CHR$(&H1C) AND XQ < YW THEN XQ = XQ + 1 :VPOKE 6925,112 + (XQ * 8)
4730 IF A$ = CHR$(&H1D) AND XQ > 0 THEN XQ = XQ - 1 :VPOKE 6925,112 + (XQ * 8)
4740 IF A$ = CHR$(&H1E) AND XP > 0 THEN XP = XP - 1 :VPOKE 6924,15 + (XP * 8)
4750 IF A$ = CHR$(&H1F) AND XP < YW THEN XP = XP + 1 :VPOKE 6924,15 + (XP * 8)
4760 IF A$ = "E" THEN XR = 2 :GOSUB 4950 :' {fill_edit_area}
4770 IF A$ = "D" THEN XR = 1 :GOSUB 4950 :' {fill_edit_area}
4780 IF A$ = "R" THEN XR = 3 :GOSUB 4950 :' {fill_edit_area}
4790 IF A$ = "F" THEN XR = 4 :GOSUB 4950 :' {fill_edit_area}
4800 IF A$ = "T" THEN XR = 5 :GOSUB 4950 :' {fill_edit_area}
4810 IF A$ = "G" THEN XR = 6 :GOSUB 4950 :' {fill_edit_area}
4820 IF A$ = "C" THEN FOR F=0 TO YU-1 :VPOKE &H0060+F,VPEEK(&H0040+F) :NEXT
4830 IF A$ = "V" THEN FOR F=0 TO YU-1 :VPOKE &H0040+F,VPEEK(&H0060+F) :NEXT :POKE YH+0,YS :POKE YH+1,YT :A=USR3(0)
4840 IF A$ = " " THEN GOSUB 5170 :' {change_bit}
4850 IF A$ = "S" THEN GOSUB 5260 :' {save_drawing}
4860 IF A$ = "L" THEN XR = 0 :GOSUB 4950 :' {fill_edit_area}
4870 IF A$ = "M" THEN ZO = ABS(ZO - 1) :XR = -1 :GOTO 4480 :' {keys_edit_start}
4880 IF A$ = "1" THEN ZU = ZU-1 :GOSUB 5100 :' {set_minipreview_color}
4890 IF A$ = "2" THEN ZU = ZU+1 :GOSUB 5100 :' {set_minipreview_color}
4900 IF A$ = "3" THEN ZT = ZT-1 :GOSUB 5100 :' {set_minipreview_color}
4910 IF A$ = "4" THEN ZT = ZT+1 :GOSUB 5100 :' {set_minipreview_color}
4920 IF A$ = CHR$(&H0D) THEN VPOKE 6924,200 :GOTO 1900 :' {search_screen}
4930 GOTO 4690 :' {read_keyboard_edit}
4940 '
4950 ' {fill_edit_area}
4960 '
4970 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
4980 IF YV > ZD - 1 THEN YV = ZD - 1
4990 IF YX = 8 THEN YW = 7 :YU = 8 :YT = 8 :YS = 1 :ELSE YW = 15 :YU = 32 :YT = 16 :YS = 2
5000 IF XR = 1 THEN POKE YH+0,YU :A=USR0(0)
5010 IF XR = 2 THEN POKE YH+0,YU :POKE YH+1,&H00 :POKE YH+2,&H40 :POKE YH+3,&H00 :A=USR1(0)
5020 IF XR = 3 AND NOT YG THEN POKE YH+0,YU :A=USR5(0)
5030 IF XR = 4 AND NOT YG THEN POKE YH+0,YU :A=USR4(0)
5040 IF XR = 5 AND NOT YG THEN POKE YH+0,YU :A=USR6(1)
5050 IF XR = 6 AND NOT YG THEN POKE YH+0,YU :A=USR6(0)
5060 IF XR = 0 THEN FOR I = ZA TO YV :GET #1,I+1 :VPOKE 1024 - ZE + I,VPEEK(1024 - ZE + I) XOR 255 :A$ = ZJ$ :VPOKE &H0040 + I - ZA,ASC(A$) :VPOKE 1024 - ZE + I,ASC(A$) :NEXT
5070 POKE YH+0,YS :POKE YH+1,YT :A=USR3(0)
5080 RETURN
5090 '
5100 ' {set_minipreview_color}
5110 '
5120 ZU = FN ZZ(ZU)
5130 ZT = FN ZZ(ZT)
5140 VPOKE 8193,ZU * 16 + ZT
5150 RETURN
5160 '
5170 ' {change_bit}
5180 '
5190 XO = VPEEK ((XQ + 14) + (XP + 2) * 32 + 6144)
5200 XO = (228 + 16) - XO
5210 VPOKE (XQ + 14) + (XP + 2) * 32 + 6144,XO
5220 XN = XP :IF XQ > 7 THEN XN = XP + 16
5230 VPOKE &H0040 + XN,2^(7-(XQ MOD 8)) XOR VPEEK(&H0040 + XN)
5240 RETURN
5250 '
5260 ' {save_drawing}
5270 '
5280 YV = ZA + (YX - 1) 'find formula to cap at gameLength to avoid next if
5290 IF YV > ZD - 1 THEN YV = ZD - 1
5300 FOR I = ZA TO YV
5310 XM = 1024 - ZE + I
5320 XL = VPEEK(&H0040 + I - ZA)
5330 VPOKE XM,VPEEK(XM) XOR 255
5340 A$ = CHR$(XL)
5350 LSET ZJ$ = A$ :PUT #1,I
5360 VPOKE XM,XL
5370 NEXT
5380 RETURN
5390 '
5400 ' {explode_screen}
5410 '
5420 CLS
5430 LOCATE 0,0 :PRINT "  CHANGE GRAPH KIT WW "+LEFT$(YD$,8)
5440 LOCATE 1,2 :PRINT "X"; LEFT$(XX$,2*19) ;"Y"
5450 LOCATE 1,3 :PRINT "VÄ ä î û ® ≤ º ∆ – ⁄V"
5460 LOCATE 1,4 :PRINT "V                   V"
5470 LOCATE 1,5 :PRINT "VÅ ã ï ü © ≥ Ω « — €V"
5480 LOCATE 1,6 :PRINT "V                   V"
5490 LOCATE 1,7 :PRINT "VÇ å ñ † ™ ¥ æ » “ ‹V"
5500 LOCATE 1,8 :PRINT "V                   V"
5510 LOCATE 1,9 :PRINT "VÉ ç ó ° ´ µ ø … ” ›V"
5520 LOCATE 1,10 :PRINT "V                   V"
5530 LOCATE 1,11 :PRINT "VÑ é ò ¢ ¨ ∂ ¿   ‘ ﬁV"
5540 LOCATE 1,12 :PRINT "V                   V"
5550 LOCATE 1,13 :PRINT "VÖ è ô £ ≠ ∑ ¡ À ’ ﬂV"
5560 LOCATE 1,14 :PRINT "V                   V"
5570 LOCATE 1,15 :PRINT "VÜ ê ö § Æ ∏ ¬ Ã ÷ ‡V"
5580 LOCATE 1,16 :PRINT "V                   V"
5590 LOCATE 1,17 :PRINT "Vá ë õ • Ø π √ Õ ◊ ·V"
5600 LOCATE 1,18 :PRINT "V                   V"
5610 LOCATE 1,19 :PRINT "Và í ú ¶ ∞ ∫ ƒ Œ ÿ ‚V"
5620 LOCATE 1,20 :PRINT "V                   V"
5630 LOCATE 1,21 :PRINT "Vâ ì ù ß ± ª ≈ œ Ÿ „V"
5640 LOCATE 1,22 :PRINT "Z"; LEFT$(XX$,2*19) ;"["
5650 LOCATE 23,03 :PRINT "VOV Ovrw"
5660 LOCATE 23,21 :PRINT "VEV Back"
5670 VPOKE 6912,200 :VPOKE 6916,200
5680 VPOKE 6920,200 :VPOKE 6928,200
5690 IF ZR THEN GOSUB 6140 :' {end_overview}
5700 '
5710 ' {explode_keys}
5720 '
5730 A$=INKEY$
5740 IF A$ = "O" THEN GOSUB 5930 :' {overview}
5750 IF A$ = CHR$(&H1C) AND YR < 9 AND ZR THEN YR = YR+1 :GOSUB 5830 :' {move_overview_sprite}
5760 IF A$ = CHR$(&H1D) AND YR > 0 AND ZR THEN YR = YR-1 :GOSUB 5830 :' {move_overview_sprite}
5770 IF A$ = CHR$(&H1E) AND YQ > 0 AND ZR THEN YQ = YQ-1 :GOSUB 5830 :' {move_overview_sprite}
5780 IF A$ = CHR$(&H1F) AND YQ < 9 AND ZR THEN YQ = YQ+1 :GOSUB 5830 :' {move_overview_sprite}
5790 IF A$ = CHR$(&H0D) AND ZR THEN ZE = (YQ * YO) + (YR * (YO * 10)) :ZQ = -1 :ZA = ZE :YZ = 16 :YY = 23 :IF ZE + 799 > ZD THEN ZE = ZD - 799 :YZ = 16 :YY = 23 :ZA = ZE :GOTO 1900 ELSE GOTO 1900 :' {search_screen} {search_screen}
5800 IF A$ = "E" THEN GOTO 1900 :' {search_screen}
5810 GOTO 5710 :' {explode_keys}
5820 '
5830 ' {move_overview_sprite}
5840 '
5850 VPOKE 6912,(YQ + 1) * 16 + 6 :VPOKE 6913,(YR + 1) * 16
5860 VPOKE 6916,(YQ + 1) * 16 + 14 :VPOKE 6917,(YR + 1) * 16
5870 YM = (YQ * YO) + (YR * (YO * 10))
5880 IF YM + 799 > ZD THEN YM = ZD - 799
5890 LOCATE 27,13 :PRINT STRING$(4 - LEN(HEX$(YM)),"0") + HEX$(YM)
5900 LOCATE 27,15 :PRINT STRING$(4 - LEN(HEX$(YM + 799)),"0") + HEX$(YM + 799)
5910 RETURN
5920 '
5930 ' {overview}
5940 '
5950 YP = 0
5960 ZR = -1
5970 YO = (ZD / 100)
5980 YN = (9 * YO) + (9 * (YO * 10)) + 8
5990 LOCATE 2,2 :PRINT LEFT$(XX$,2*7) ;"SCAN"; LEFT$(XX$,2*8)
6000 LOCATE 2,22 :PRINT LEFT$(XX$,2*5) ;"VÈVStop"; LEFT$(XX$,2*7)
6010 FOR F = 1 TO YN STEP YO
6020 FOR I = F TO F + 7
6030 VPOKE 1024 + YP,VPEEK(1024 + YP) XOR 255
6040 GET #1,I+1
6050 A$ = ZJ$
6060 VPOKE 1024 + YP,ASC(A$)
6070 YP = YP + 1
6080 IF INKEY$ = " " THEN F = YN + 1 :I = F + 8
6090 NEXT
6100 NEXT
6110 GOSUB 6140 :' {end_overview}
6120 RETURN
6130 '
6140 ' {end_overview}
6150 '
6160 VPOKE 6912,(YQ + 1) * 16 + 6 :VPOKE 6913,(YR + 1) * 16
6170 VPOKE 6916,(YQ + 1) * 16 + 14 :VPOKE 6917,(YR + 1) * 16
6180 LOCATE 23,05 :PRINT "VÍV Move"
6190 LOCATE 23,07 :PRINT "VËV Go"
6200 LOCATE 23,11 :PRINT "Region"
6210 YM = (YQ * YO) + (YR * (YO * 10))
6220 IF YM + 799 > ZD THEN YM = ZD - 799
6230 LOCATE 23,13 :PRINT "St# " + STRING$(4-LEN(HEX$(YM)),"0")+HEX$(YM)
6240 LOCATE 23,15 :PRINT "Ed# " + STRING$(4-LEN(HEX$(YM + 799)),"0")+HEX$(YM + 799)
6250 LOCATE 02,2 :PRINT LEFT$(XX$,2*19)
6260 LOCATE 2,22 :PRINT LEFT$(XX$,2*19)
6270 RETURN
6280 '
6290 ' {window_requester}
6300 '
6310 X = 5 :Y = 10 :W = 21 :H = 2 :GOSUB 6400 :' {vram_conversion}
6320 POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(0)
6330 LOCATE 5,10 :PRINT "X"; LEFT$(XX$,2*19) ;"Y"
6340 LOCATE 5,11 :PRINT "VAre you sure? (Y/N)V"
6350 LOCATE 5,12 :PRINT "Z"; LEFT$(XX$,2*19) ;"[
6360 A$ = INKEY$ :IF A$ <> "Y" AND A$ <> "N" THEN 6360 :' {SELF}
6370 IF A$ = "N" THEN POKE YH+0,ZN :POKE YH+1,ZM :POKE YH+2,ZL :POKE YH+3,ZK :A=USR2(1) :RETURN 2590 :' {read_keyboard_main}
6380 RETURN
6390 '
6400 ' {vram_conversion}
6410 '
6420 S=&H1800
6430 ZN = FN YF(X,Y,S) :ZM = FN YE(X,Y,S)
6440 ZL = W+1 :ZK = H+1
6450 IF YG THEN S=0 :ZL = FN YF(W,H,S) :ZK = FN YE(W,H,S)
6460 RETURN
6470 ' Error Handling Routines
6480 '
6490 ' {error}
6500 '
6510 IF ERR = 53 AND YK = 2 THEN GOTO 6810 :' {bad_file_name}
6520 IF ERR = 56 AND YK = 2 THEN GOTO 6810 :' {bad_file_name}
6530 IF ERR = 55 AND YK = 4 THEN YK = 0 :YJ = 0 :YI$ = "CONFIG FILE CORRUPTED" :RESUME 3330 :' {config_failed}
6540 IF ERR = 53 AND YK = 4 THEN YK = 0 :YJ = 0 :YI$ = "CONFIG FILE NOT FOUND" :RESUME 3330 :' {config_failed}
6550 IF ERR = 53 AND YK = 3 THEN YK = 0 :RESUME 430 :' {ml_fallback}
6560 IF (ERR = 53 AND YK = 1) OR ERR = 70 THEN GOTO 6720 :' {file_not_found}
6570 XK = ERR :IF XK > 25 THEN XK = XK - 24
6580 LOCATE 0,20 :PRINTCHR$(&H0D)
6590 FOR F = YL(XK)+1 TO YL(XK + 1)-1 :PRINT CHR$(PEEK(&H3D75 + F));
6600 NEXT
6610 PRINT " (";RIGHT$(STR$(ERR),LEN(STR$(ERR))-1);") at"; ERL; CHR$(&H07)
6620 '
6630 ' {stopped}
6640 '
6650 CLOSE
6660 STOP OFF
6670 ON ERROR GOTO 0
6680 LOCATE 0,20 :PRINTCHR$(&H0D)
6690 PRINT "Break";CHR$(&H07)
6700 END
6710 '
6720 ' {file_not_found}
6730 '
6740 PRINT :PRINT "No files found"
6750 PRINT :PRINT "Press space to restart"
6760 IF INKEY$<>" "THEN6760 :' {SELF}
6770 YK = 0
6780 CLS
6790 RESUME 730 :' {insert_disk}
6800 '
6810 ' {bad_file_name}
6820 '
6830 PRINT :PRINT
6840 IF ERR = 53 THEN PRINT YD$;" not found"
6850 IF ERR = 56 THEN PRINT "Invalid name"
6860 PRINT :PRINT "Press space to restart"
6870 IF INKEY$<>" "THEN6870 :' {SELF}
6880 YK = 0
6890 RESUME 730 :' {insert_disk}
6900 ' Error Messages in ROM
6910 '
6920 ' {portuguese_ROM}
6930 '
6940 DATA 0,13,26,43,52,66,75,89,110,132,147
6950 DATA 164,178,192,210,223,239,253,271,287
6960 DATA 304,311,328,344,359,371,383,396,410
6970 DATA 429,444,459,475,501,520,531
6980 '
6990 ' {english_ROM}
7000 '
7010 DATA 0,17,30,51,63,85,94,108,130,153,173
7020 DATA 190,205,219,239,255,282,297,321,338
7030 DATA 351,361,382,400,416,437,452,467,483
7040 DATA 498,516,531,545,570,590,604
7050 ' ML Routines at 0xd000. ASM Source on GitHub
7060 '
7070 ' {ml_routines}
7080 '
7090 DATA 00,00,00,00,00,00,00,00,c3,14,da,c3,27,da,c3,35
7100 DATA da,c3,5a,da,3a,00,da,47,21,40,00,cd,4a,00,ee,ff
7110 DATA cd,4d,00,23,10,f5,c9,3a,f8,f7,ed,4b,00,da,2a,02
7120 DATA da,cd,56,00,c9,3a,f8,f7,fe,00,ca,4c,da,ed,4b,02
7130 DATA da,ed,5b,00,da,21,93,da,cd,5c,00,c9,ed,4b,02,da
7140 DATA 11,93,da,2a,00,da,cd,59,00,c9,11,40,00,21,4e,18
7150 DATA 3a,00,da,47,c5,3a,01,da,47,c5,eb,cd,4a,00,eb,06
7160 DATA 08,17,f5,38,1a,3e,10,cd,4d,00,f1,23,10,f3,13,d5
7170 DATA 11,18,00,19,d1,c1,10,e1,21,56,18,c1,10,d6,c9,3e
7180 DATA e4,18,e4
7190 ' Character Shapes
7200 '
7210 ' {character_shapes}
7220 '
7230 DATA 255,128,128,128,128,128,128,255
7240 DATA 255,0,0,0,0,0,0,255
7250 DATA 255,1,1,1,1,1,1,255
7260 DATA 255,129,129,129,129,129,129,255
7270 DATA 255,255,255,255,255,255,255,255
7280 DATA 0,126,126,126,126,126,126,0
7290 DATA 4,4,36,100,252,96,32,0
7300 DATA 0,0,219,154,82,211,0,0
7310 DATA 231,195,165,24,24,165,195,231
7320 ' Sprite Shapes
7330 DATA 255,129,0,0,0,0,0,0
7340 DATA 129,255,0,0,0,0,0,0
7350 DATA 0,128,128,128,128,128,128,0
7360 DATA 255,129,129,129,129,129,129,255
7370 ' Functions Not Used
7380 ' Create Character Block
7390 C=127
7400 FOR X=2 TO 11
7410 FOR Y=3 TO 12
7420 C=C+1 :LOCATE X,Y :PRINT :PRINT CHR$(C)
7430 NEXT
7440 NEXT
7450 END
7460 ' Character Map
7470 FOR I=0 TO 255
7480 X=I MOD 32 :Y=I\32
7490 C=I
7500 IF C<32 OR C=127 THEN C=32
7510 LOCATE X,Y :PRINT CHR$(C)
7520 LOCATE X,Y+10 :PRINT CHR$(1)+CHR$(C)
7530 NEXT
7540 END
7550 ' ZZ-colorB, ZY-color1, ZX-color2, ZW-color3, ZV-color4
7560 ' ZU-color5, ZT-color6, ZS-haltScan, ZR-isOverview, ZQ-goOverview
7570 ' ZP-keysPage, ZO-keysEdit, ZN-VRAMx, ZM-VRAMy, ZL-VRAMw
7580 ' ZK-VRAMh, ZJ-bytes, ZI-lowByte, ZH-highByte, ZG-gameStart
7590 ' ZF-gameEnd, ZE-regionStart, ZD-gameLength, ZC-regionStep, ZB-spriteStep
7600 ' ZA-cursorPos, YZ-cursorX, YY-cursorY, YX-cursorSize, YW-areaSize
7610 ' YV-finalPos, YU-prevLen, YT-editLin, YS-editCol, YR-ovrwX
7620 ' YQ-ovrwY, YP-bytePos, YO-sliceSize, YN-lastSlice, YM-ovrwRegion
7630 ' YL-errorM, YK-errorType, YJ-configLoad, YI-configMessage, YH-MLs
7640 ' YG-mlFallback, YF-horiz, YE-verti, YD-gameName, YC-gameExtension
7650 ' YB-memPos, YA-posLoad, XZ-count, XY-letra, XX-lin
7660 ' XW-blk, XV-adjustY, XU-adjustX, XT-posIni, XS-cursorDisplace
7670 ' XR-editType, XQ-editX, XP-editY, XO-pixel, XN-posY
7680 ' XM-scanPos, XL-previewByte, XK-errorNum
